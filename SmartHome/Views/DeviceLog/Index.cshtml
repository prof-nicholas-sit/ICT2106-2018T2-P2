@model IEnumerable<SmartHome.Models.DeviceLog>

@{
    ViewData["Title"] = "Index";
}
@section styles {
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" />
}
    <h2>Device Log</h2>

    <p>
        <a href="@Url.Action("ExportToExcel")" class="btn btn-primary">Export</a>
        <a href="@Url.Action("..//DeviceLog//UploadToDB")" class="btn btn-primary">Import</a>
    </p>
    <div id="dvData">
        <table id="example" class="table table-striped table-bordered table-hover responsive">
            <thead class="thin-border-bottom">
                <tr>
                    <th>
                        ID
                        @*@Html.DisplayNameFor(model => model.Id)*@
                    </th>
                    <th>
                        householdId
                        @*@Html.DisplayNameFor(model => model.householdId)*@
                    </th>
                    <th>
                        name
                        @*@Html.DisplayNameFor(model => model.name)*@
                    </th>
                    <th>
                        location
                        @*@Html.DisplayNameFor(model => model.location)*@
                    </th>
                    <th>
                        type
                        @*@Html.DisplayNameFor(model => model.type)*@
                    </th>
                    <th>
                        state
                        @*@Html.DisplayNameFor(model => model.state)*@
                    </th>
                    <th>
                        kwh
                        @*@Html.DisplayNameFor(model => model.kWh)*@
                    </th>
                    <th>
                        datetime
                        @*@Html.DisplayNameFor(model => model.dateTime)*@
                    </th>
                    <th></th>
                </tr>
            </thead>
            @*<tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.householdId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.location)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.type)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.state)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.kWh)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.dateTime)
                        </td>
                        <td>
                                @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                                @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                                @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                            </td>
                    </tr>
                }
            </tbody>*@
        </table>
    </div>

@section Scripts{
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script>
        (function ($) {
            var generateCustomerTable = $("#example")
                .dataTable({
                    "processing": true,
                    "serverSide": true,
                    "ajax": {
                        "url": "/api/apiController",
                        "method": "POST"
                    },
                    "columns": [
                        { "data": "id" },
                        { "data": "householdId" },
                        { "data": "name" },
                        { "data": "location" },
                        { "data": "type" },
                        { "data": "state" },
                        { "data": "kWh" },
                        { "data": "dateTime"}
                    ],
                    "ordering": true,
                    "paging": true,
                    "pagingType": "full_numbers",
                    "pageLength": 10
                });
        })(jQuery);
    </script>
}